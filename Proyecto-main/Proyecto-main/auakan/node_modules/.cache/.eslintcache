[{"/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/index.js":"1","/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/App.js":"2","/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/components/Publish.js":"3","/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/pages/PublishDetails.js":"4","/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/pages/Inicio.js":"5","/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/components/Publishcard.js":"6","/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/components/BotonPublicar.js":"7","/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/Util/Client.js":"8"},{"size":791,"mtime":1685117486967,"results":"9","hashOfConfig":"10"},{"size":1499,"mtime":1685117486967,"results":"11","hashOfConfig":"10"},{"size":1657,"mtime":1685117486967,"results":"12","hashOfConfig":"10"},{"size":2463,"mtime":1685117486967,"results":"13","hashOfConfig":"10"},{"size":117,"mtime":1685117486967,"results":"14","hashOfConfig":"10"},{"size":1850,"mtime":1685117486967,"results":"15","hashOfConfig":"10"},{"size":5338,"mtime":1685117486967,"results":"16","hashOfConfig":"10"},{"size":670,"mtime":1685117486967,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21"},"1vbqpek",{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25"},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44"},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/index.js",["48"],[],"import React, { Children } from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n//import reportWebVitals from './reportWebVitals';\n\n/*const root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\nfunction Contenido({titulo,children}) {\n  //console.log(props);\n  return <div>\n    <h1>{titulo}</h1>\n    <div>{children}</div>\n  </div>;\n}*/\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <App />\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n\n\n","/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/App.js",["49"],[],"//import logo from './logo.svg';\nimport React from \"react\";\nimport styles from \"./components/App.module.css\"\nimport './components/App.css';\nimport { Publish } from './components/Publish';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport { PublishDetails } from \"./pages/PublishDetails\";\nimport { Inicio } from \"./pages/Inicio\";\n//import { Switch } from 'react-router-dom';\n/*function App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}*/\nexport function App() {\n  return (\n    <Router>\n      <header>\n        <Link to=\"/\">\n          <h1 className={styles.title}>Publicaciones pendientes</h1>\n        </Link>\n      </header>\n      <main>\n        <Switch>\n          <Route exact path=\"/publicacion/:id\"><PublishDetails /></Route>\n          <Route path=\"/\"><Inicio /></Route>\n        </Switch>\n      </main>\n    </Router>\n  );\n}\n/*export function App() {\n  return (\n    <div>\n      <header>\n        <h1 className={styles.title}>Publicaciones pendientes</h1>\n      </header>\n      <main>\n        <Publish />\n      </main>\n    </div>\n  );\n}*/\nexport default App;\n","/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/components/Publish.js",["50","51"],[],"import { useEffect, useState } from \"react\";\nimport styles from \"./Publish.module.css\"\nimport { Publishcard } from \"./Publishcard\";\nimport publics from \"./publi.json\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { fetchData } from \"../Util/Client\";\n\nexport function Publish() {\n    const [publics, setPublics] = useState([]);\n  \n    useEffect(() => {\n      fetchData().then((data) => {\n        setPublics(data);\n      });\n    }, []);\n  \n    return (\n      <ul className={styles.publishgrid}>\n        {publics.map((publica) => (\n          <Publishcard key={publica.id} publica={publica} />\n        ))}\n      </ul>\n    );\n  }\n  \n/*import { useEffect, useState } from \"react\";\nimport styles from \"./Publish.module.css\"\nimport { Publishcard } from \"./Publishcard\";\nimport publics from \"./publi.json\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { get } from \"../Util/Client\";\n\n\nexport function Publish() {\n    //let offer = [];\n    //const offerState = useState([]);\n    //const offer = offerState[0];\n    //const setOffer = offerState[1];\n    const [publics, setPublics] = useState([]);\n    //const { offerId } = useParams();\n    useEffect(() => {\n        get(\"/discover/movie\").then((data) => {\n            setPublics(data.results);\n            //console.log(offer);\n        });\n    }, []);\n    //console.log(publicaciones);\n    return (\n        <ul className={styles.publishgrid}>\n            {publics.map((publica) => (\n                //<li key = {publica.id}>{publica.title}</li>\n                <Publishcard key={publica.id} publica={publica} />\n            ))}\n        </ul>\n    );\n}*/","/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/pages/PublishDetails.js",["52","53"],[],"import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchData } from \"../Util/Client\";\nimport styles from \"./PublishDetails.module.css\";\nimport BotonPublicar from \"../components/BotonPublicar\";\n\nexport function PublishDetails() {\n\n  const { id } = useParams();\n  const [data, setData] = useState([]);\n  const [item, setItem] = useState(null);\n  console.log()\n  useEffect(() => {\n    fetchData()\n      .then((result) => {\n        const filteredData = result.filter((item) => item.id === id);\n        const updatedData = filteredData.map((item) => ({\n          ...item,\n          publicado: localStorage.getItem(`publicado_${item.id}`) === \"true\",\n        }));\n        setData(updatedData);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data:\", error);\n      });\n  }, [id]);\n\n  const handlePublicar = (itemId) => {\n    const updatedData = data.map((item) => {\n      if (item.id === itemId) {\n        localStorage.setItem(`publicado_${itemId}`, \"true\");\n        return {\n          ...item,\n          publicado: true,\n        };\n      }\n      return item;\n    });\n    setData(updatedData);\n  };\n\n  const handleRetirar = (itemId) => {\n    const updatedData = data.map((item) => {\n      if (item.id === itemId) {\n        localStorage.setItem(`publicado_${itemId}`, \"false\");\n        return {\n          ...item,\n          publicado: false,\n        };\n      }\n      return item;\n    });\n    setData(updatedData);\n  };\n\n  return (\n    <div className={styles.DetailsContainer}>\n      {data.map((item) => (\n        <div key={item.id} className={styles.cardContainer}>\n          <img className={styles.publicimage} src={item.fotografia_prod} alt={item.nombre} />\n          <div className={styles.pubdet}>\n            <p className={styles.firstItem}>\n              <strong>Producto: </strong>\n              {item.nombre_prod}\n            </p>\n            <p>\n              <strong>Detalles del producto: </strong>\n              {item.detalles_prod}\n            </p>\n            <p>\n              <strong>Nombre del vendedor: </strong>\n              {item.nombre}\n            </p>\n          </div>\n          <div>\n            <BotonPublicar\n              tarjetaId={item.id}\n              publicado={item.publicado}\n              onPublicar={handlePublicar}\n              onRetirar={handleRetirar}\n            />\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n//export default item;","/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/pages/Inicio.js",[],[],"/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/components/Publishcard.js",["54"],[],"import { Link } from \"react-router-dom\";\nimport styles from \"./Publishcard.module.css\";\n\n\n\nexport function Publishcard({ publica }) {\n  const imageurl =\n    \"https://auakanapi.000webhostapp.com/api.php?request=getAnuncios\" +\n    publica.fotografia_prod;\n\n\n\n  return (\n    <li className={styles.publishcard}>\n      <Link to={`/publicacion/${publica.id}`} state={{ publica }}>\n        <img\n          width={230}\n          height={345}\n          className={styles.publishimage}\n          src={publica.fotografia_prod}\n          alt={publica.nombre_prod}\n        />\n      </Link>\n      <div>{publica.nombre_prod}</div>\n    </li>\n  );\n}\n/*import { Link } from \"react-router-dom/cjs/react-router-dom.min\";\nimport styles from \"./Publishcard.module.css\";\nexport function Publishcard({ publica }) {\n    const imageurl = \"https://image.tmdb.org/t/p/w300\" + publica.poster_path;\n    return (\n       <li className={styles.publishcard}>\n        <Link to={\"/publicacion/\" + publica.id}>\n        <img\n            width={230}\n            height={345} \n            className={styles.publishimage}\n            src = {imageurl} \n            alt = {publica.title}/>\n        </Link>\n            \n            <div>{publica.nombre_prod}</div>\n        </li>\n    );\n}\n/*import { Link } from \"react-router-dom/cjs/react-router-dom.min\";\nimport styles from \"./Publishcard.module.css\";\nexport function Publishcard({ publica }) {\n    const imageurl = \"https://image.tmdb.org/t/p/w300\" + publica.poster_path;\n    return (\n       <li className={styles.publishcard}>\n        <Link to={\"/publicacion/\" + publica.id}>\n        <img\n            width={230}\n            height={345} \n            className={styles.publishimage}\n            src = {imageurl} \n            alt = {publica.title}/>\n        </Link>\n            \n            <div>{publica.title}</div>\n        </li>\n    );\n}*/\n","/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/components/BotonPublicar.js",["55","56"],[],"//import React from \"react\";\nimport React, { useEffect, useState } from \"react\";\nimport styles from \"../pages/PublishDetails.module.css\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchData } from \"../Util/Client\";\nexport function BotonPublicar({ tarjetaId, publicado, onPublicar, onRetirar }) {\n  const { id } = useParams();\n  const [data, setData] = useState([]);\n  const [data2, setData2] = useState([]);\n  //const [item, setItem] = useState(null);\n  console.log()\n  useEffect(() => {\n    fetchData()\n      .then((result) => {\n        const filteredData = result.filter((item) => item.id === id);\n        const updatedData = filteredData.map((item) => ({\n          ...item,\n          publicado: localStorage.getItem(`publicado_${item.id}`) === \"true\",\n        }));\n        setData(updatedData);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data:\", error);\n      });\n  }, [id]);\n  //console.log(data);\n  const datapub = data.reduce((obj, item) => {\n    obj[item.id] = item;\n    return obj;\n  }, {});\n\n  //publicar en joomla\n  const handlePublicar = () => {\n    onPublicar(tarjetaId);\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    myHeaders.append(\"Authorization\", \"Bearer c2hhMjU2Ojk1NjpjYTM2NzZlMTQ0YWM0MTE0Y2MzMWZlZGJjMzg0YmVlZDA2YTdjZjYwOTc0YzNhMWMzY2ZiNTI2MWVlODBlYTM3\");\n  \n    let currentAlias = datapub[tarjetaId].id; // Obtener el alias actual\n    let categoryId = 13; // Categoría por defecto (camarón)\n  \n    // Verificar si el nombre del producto contiene \"tilapia\" o \"mojarra\"\n    const productName = datapub[tarjetaId].nombre_prod.toLowerCase();\n    if (productName.includes(\"tilapia\") || productName.includes(\"mojarra\")) {\n      categoryId = 12; // Categoría 12 (tilapia)\n    }\n  \n    // Generar un número aleatorio único de 4 dígitos\n    let randomNumber = Math.floor(Math.random() * 9000) + 1000;\n  \n    // Construir el nuevo alias agregando el número aleatorio al final\n    let newAlias = `${currentAlias}-${randomNumber}`;\n    var raw = JSON.stringify({\n      \"alias\": newAlias, // Usar el nuevo alias\n      \"articletext\": datapub[tarjetaId].detalles_prod,\n      \"catid\": categoryId, // Usar la categoría correspondiente\n      \"language\": \"*\",\n      \"metadesc\": \"\",\n      \"metakey\": \"\",\n      \"title\": datapub[tarjetaId].nombre_prod,\n      \"state\": 1,\n      \"id\": datapub[tarjetaId].id\n    });\n  \n    var requestOptions = {\n      method: 'POST',\n      headers: myHeaders,\n      body: raw,\n      redirect: 'follow'\n    };\n  \n    fetch(\"https://dev.auakan.com/api/index.php/v1/content/articles\", requestOptions)\n      .then(response => response.text())\n      .then(result => console.log(result))\n      .catch(error => console.log('error', error));\n  };\n  \n  \n  \n  //eliminar la publicación de joomla\n  const handleRetirar = () => {\n    onRetirar(tarjetaId);\n    // Agregar aquí el código para retirar el artículo en Joomla utilizando el endpoint de Joomla\n    var myHeaders = new Headers();\nmyHeaders.append(\"Content-Type\", \"application/json\");\nmyHeaders.append(\"Authorization\", \"Bearer c2hhMjU2Ojk1NjpjYTM2NzZlMTQ0YWM0MTE0Y2MzMWZlZGJjMzg0YmVlZDA2YTdjZjYwOTc0YzNhMWMzY2ZiNTI2MWVlODBlYTM3\");\n\nvar requestOptions = {\n  method: 'GET',\n  headers: myHeaders,\n  redirect: 'follow'\n};\n\nvar firstId;\n\nfetch(\"https://dev.auakan.com/api/index.php/v1/content/articles\", requestOptions)\n  .then(response => response.json())\n  .then(result => {\n    const articles = result.data;\n    if (Array.isArray(articles) && articles.length > 0) {\n      firstId = articles[0].id;\n      console.log(firstId);\n\n      var myHeaders2 = new Headers();\n      myHeaders2.append(\"Content-Type\", \"application/json\");\n      myHeaders2.append(\"Authorization\", \"Bearer c2hhMjU2Ojk1NjpjYTM2NzZlMTQ0YWM0MTE0Y2MzMWZlZGJjMzg0YmVlZDA2YTdjZjYwOTc0YzNhMWMzY2ZiNTI2MWVlODBlYTM3\");\n\n      var raw2 = JSON.stringify({\n        \"catid\": 12,\n        \"title\": datapub[tarjetaId].nombre_prod,\n        \"state\": -2,\n      });\n\n      var requestOptions2 = {\n        method: 'PATCH',\n        headers: myHeaders2,\n        body: raw2,\n        redirect: 'follow'\n      };\n\n      fetch(`https://dev.auakan.com/api/index.php/v1/content/articles/${firstId}`, requestOptions2)\n        .then(response => response.text())\n        .then(result => console.log(result))\n        .catch(error => console.log('error', error));\n    } else {\n      console.log('No se encontraron artículos.');\n    }\n  })\n  .catch(error => console.log('error', error));\n\n// No puedes utilizar la constante `firstId` aquí fuera del bloque .then porque el bloque .then se ejecuta de manera asincrónica. Debes usar `firstId` dentro del segundo bloque .then.\n\n};\n\n\n  return (\n    <div className={styles.botonescontainer}>\n      {publicado ? (\n        <h1 className={styles.leyendas}>Este Articulo se encuentra publicado en Auakán</h1>\n      ) : (\n        <h1 className={styles.leyendas}>Este Articulo no se encuentra publicado en Auakán</h1>\n      )}\n\n      {publicado ? (\n        <button className={styles.botonescontainer} onClick={handleRetirar}>\n          <strong>RETIRAR</strong>\n        </button>\n      ) : (\n        <button className={styles.botonescontainer} onClick={handlePublicar}>\n          <strong>PUBLICAR</strong>\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default BotonPublicar;\n","/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/Util/Client.js",[],[],{"ruleId":"57","severity":1,"message":"58","line":1,"column":17,"nodeType":"59","messageId":"60","endLine":1,"endColumn":25},{"ruleId":"57","severity":1,"message":"61","line":5,"column":10,"nodeType":"59","messageId":"60","endLine":5,"endColumn":17},{"ruleId":"57","severity":1,"message":"62","line":4,"column":8,"nodeType":"59","messageId":"60","endLine":4,"endColumn":15},{"ruleId":"57","severity":1,"message":"63","line":5,"column":10,"nodeType":"59","messageId":"60","endLine":5,"endColumn":19},{"ruleId":"57","severity":1,"message":"64","line":11,"column":10,"nodeType":"59","messageId":"60","endLine":11,"endColumn":14},{"ruleId":"57","severity":1,"message":"65","line":11,"column":16,"nodeType":"59","messageId":"60","endLine":11,"endColumn":23},{"ruleId":"57","severity":1,"message":"66","line":7,"column":9,"nodeType":"59","messageId":"60","endLine":7,"endColumn":17},{"ruleId":"57","severity":1,"message":"67","line":9,"column":10,"nodeType":"59","messageId":"60","endLine":9,"endColumn":15},{"ruleId":"57","severity":1,"message":"68","line":9,"column":17,"nodeType":"59","messageId":"60","endLine":9,"endColumn":25},"no-unused-vars","'Children' is defined but never used.","Identifier","unusedVar","'Publish' is defined but never used.","'publics' is defined but never used.","'useParams' is defined but never used.","'item' is assigned a value but never used.","'setItem' is assigned a value but never used.","'imageurl' is assigned a value but never used.","'data2' is assigned a value but never used.","'setData2' is assigned a value but never used."]