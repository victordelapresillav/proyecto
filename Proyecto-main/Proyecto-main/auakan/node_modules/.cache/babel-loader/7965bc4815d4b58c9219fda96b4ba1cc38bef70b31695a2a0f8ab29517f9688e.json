{"ast":null,"code":"import _objectSpread from\"/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{fetchData}from\"../Util/Client\";import styles from\"./PublishDetails.module.css\";import BotonPublicar from\"../components/BotonPublicar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function PublishDetails(){var _useParams=useParams(),id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),item=_useState4[0],setItem=_useState4[1];console.log();useEffect(function(){fetchData().then(function(result){var filteredData=result.filter(function(item){return item.id===id;});var updatedData=filteredData.map(function(item){return _objectSpread(_objectSpread({},item),{},{publicado:localStorage.getItem(\"publicado_\".concat(item.id))===\"true\"});});setData(updatedData);}).catch(function(error){console.error(\"Error fetching data:\",error);});},[id]);var handlePublicar=function handlePublicar(itemId){var updatedData=data.map(function(item){if(item.id===itemId){localStorage.setItem(\"publicado_\".concat(itemId),\"true\");return _objectSpread(_objectSpread({},item),{},{publicado:true});}return item;});setData(updatedData);};var handleRetirar=function handleRetirar(itemId){var updatedData=data.map(function(item){if(item.id===itemId){localStorage.setItem(\"publicado_\".concat(itemId),\"false\");return _objectSpread(_objectSpread({},item),{},{publicado:false});}return item;});setData(updatedData);};return/*#__PURE__*/_jsx(\"div\",{className:styles.DetailsContainer,children:data.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:styles.cardContainer,children:[/*#__PURE__*/_jsx(\"img\",{className:styles.publicimage,src:item.fotografia_prod,alt:item.nombre}),/*#__PURE__*/_jsxs(\"div\",{className:styles.pubdet,children:[/*#__PURE__*/_jsxs(\"p\",{className:styles.firstItem,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Producto: \"}),item.nombre_prod]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Detalles del producto: \"}),item.detalles_prod]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nombre del vendedor: \"}),item.nombre]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(BotonPublicar,{tarjetaId:item.id,publicado:item.publicado,onPublicar:handlePublicar,onRetirar:handleRetirar})})]},item.id);})});}//export default item;","map":{"version":3,"names":["React","useEffect","useState","useParams","fetchData","styles","BotonPublicar","jsx","_jsx","jsxs","_jsxs","PublishDetails","_useParams","id","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","item","setItem","console","log","then","result","filteredData","filter","updatedData","map","_objectSpread","publicado","localStorage","getItem","concat","catch","error","handlePublicar","itemId","handleRetirar","className","DetailsContainer","children","cardContainer","publicimage","src","fotografia_prod","alt","nombre","pubdet","firstItem","nombre_prod","detalles_prod","tarjetaId","onPublicar","onRetirar"],"sources":["/workspaces/proyecto/Proyecto-main/Proyecto-main/auakan/src/pages/PublishDetails.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchData } from \"../Util/Client\";\nimport styles from \"./PublishDetails.module.css\";\nimport BotonPublicar from \"../components/BotonPublicar\";\n\nexport function PublishDetails() {\n\n  const { id } = useParams();\n  const [data, setData] = useState([]);\n  const [item, setItem] = useState(null);\n  console.log()\n  useEffect(() => {\n    fetchData()\n      .then((result) => {\n        const filteredData = result.filter((item) => item.id === id);\n        const updatedData = filteredData.map((item) => ({\n          ...item,\n          publicado: localStorage.getItem(`publicado_${item.id}`) === \"true\",\n        }));\n        setData(updatedData);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data:\", error);\n      });\n  }, [id]);\n\n  const handlePublicar = (itemId) => {\n    const updatedData = data.map((item) => {\n      if (item.id === itemId) {\n        localStorage.setItem(`publicado_${itemId}`, \"true\");\n        return {\n          ...item,\n          publicado: true,\n        };\n      }\n      return item;\n    });\n    setData(updatedData);\n  };\n\n  const handleRetirar = (itemId) => {\n    const updatedData = data.map((item) => {\n      if (item.id === itemId) {\n        localStorage.setItem(`publicado_${itemId}`, \"false\");\n        return {\n          ...item,\n          publicado: false,\n        };\n      }\n      return item;\n    });\n    setData(updatedData);\n  };\n\n  return (\n    <div className={styles.DetailsContainer}>\n      {data.map((item) => (\n        <div key={item.id} className={styles.cardContainer}>\n          <img className={styles.publicimage} src={item.fotografia_prod} alt={item.nombre} />\n          <div className={styles.pubdet}>\n            <p className={styles.firstItem}>\n              <strong>Producto: </strong>\n              {item.nombre_prod}\n            </p>\n            <p>\n              <strong>Detalles del producto: </strong>\n              {item.detalles_prod}\n            </p>\n            <p>\n              <strong>Nombre del vendedor: </strong>\n              {item.nombre}\n            </p>\n          </div>\n          <div>\n            <BotonPublicar\n              tarjetaId={item.id}\n              publicado={item.publicado}\n              onPublicar={handlePublicar}\n              onRetirar={handleRetirar}\n            />\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n//export default item;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}